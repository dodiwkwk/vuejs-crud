{"remainingRequest":"/home/dodi/Documents/Course/Parsinta/LaraVue/note/node_modules/babel-loader/lib/index.js!/home/dodi/Documents/Course/Parsinta/LaraVue/note/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dodi/Documents/Course/Parsinta/LaraVue/note/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dodi/Documents/Course/Parsinta/LaraVue/note/src/views/notes/Edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dodi/Documents/Course/Parsinta/LaraVue/note/src/views/notes/Edit.vue","mtime":1603804835874},{"path":"/home/dodi/Documents/Course/Parsinta/LaraVue/note/node_modules/cache-loader/dist/cjs.js","mtime":1603807539473},{"path":"/home/dodi/Documents/Course/Parsinta/LaraVue/note/node_modules/babel-loader/lib/index.js","mtime":1603807539469},{"path":"/home/dodi/Documents/Course/Parsinta/LaraVue/note/node_modules/cache-loader/dist/cjs.js","mtime":1603807539473},{"path":"/home/dodi/Documents/Course/Parsinta/LaraVue/note/node_modules/vue-loader/lib/index.js","mtime":1603807946571}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvZG9kaS9Eb2N1bWVudHMvQ291cnNlL1BhcnNpbnRhL0xhcmFWdWUvbm90ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogW10sCiAgICAgIHN1YmplY3RzOiBbXSwKICAgICAgbWVzc2FnZUVycm9yczogW10sCiAgICAgIHNlbGVjdGVkOiAnJywKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRTdWJqZWN0cygpOwogICAgdGhpcy5nZXROb3RlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRTdWJqZWN0czogZnVuY3Rpb24gZ2V0U3ViamVjdHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJy9hcGkvc3ViamVjdHMnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnN1YmplY3RzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldE5vdGU6IGZ1bmN0aW9uIGdldE5vdGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvYXBpL25vdGVzLyIuY29uY2F0KF90aGlzMi4kcm91dGUucGFyYW1zLm5vdGVTbHVnKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIuZm9ybSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VsZWN0ZWRTdWJqZWN0OiBmdW5jdGlvbiBzZWxlY3RlZFN1YmplY3QoZSkgewogICAgICB0aGlzLnNlbGVjdGVkID0gZS50YXJnZXQudmFsdWU7CiAgICB9LAogICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpczMuZm9ybVsnc3ViamVjdCddID0gX3RoaXMzLnNlbGVjdGVkIHx8IF90aGlzMy5mb3JtLnN1YmplY3RfaWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucGF0Y2goIi9hcGkvbm90ZXMvIi5jb25jYXQoX3RoaXMzLiRyb3V0ZS5wYXJhbXMubm90ZVNsdWcsICIvZWRpdCIpLCBfdGhpczMuZm9ybSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLiR0b2FzdGVkLnNob3cocmVzcG9uc2UuZGF0YS5tZXNzYWdlLCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAwCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goJy9ub3Rlcy90YWJsZScpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgX3RoaXMzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzMy5tZXNzYWdlRXJyb3JzID0gX2NvbnRleHQzLnQwLnJlc3BvbnNlLmRhdGEuZXJyb3JzOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzIsIDldXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,aAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,OAAA,EAAA;AALA,KAAA;AAOA,GATA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,WAAA;AACA,SAAA,OAAA;AACA,GAdA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,GAAA,CAAA,eAAA,CADA;;AAAA;AACA,gBAAA,QADA;;AAEA,oBAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,KANA;AAQA,IAAA,OARA,qBAQA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,GAAA,sBAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,QAAA,EADA;;AAAA;AACA,gBAAA,QADA;AAEA,gBAAA,MAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAXA;AAaA,IAAA,eAbA,2BAaA,CAbA,EAaA;AACA,WAAA,QAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA;AACA,KAfA;AAiBA,IAAA,MAjBA,oBAiBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,OAAA,GAAA,IAAA;AACA,gBAAA,MAAA,CAAA,IAAA,CAAA,SAAA,IAAA,MAAA,CAAA,QAAA,IAAA,MAAA,CAAA,IAAA,CAAA,UAAA;AAFA;AAAA;AAAA,uBAIA,KAAA,CAAA,KAAA,sBAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,QAAA,YAAA,MAAA,CAAA,IAAA,CAJA;;AAAA;AAIA,gBAAA,QAJA;;AAKA,oBAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,oBAAA,IAAA,EAAA,SADA;AAEA,oBAAA,QAAA,EAAA;AAFA,mBAAA;;AAIA,kBAAA,MAAA,CAAA,OAAA,GAAA,KAAA;;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,cAAA;AACA;;AAZA;AAAA;;AAAA;AAAA;AAAA;AAcA,gBAAA,MAAA,CAAA,OAAA,GAAA,KAAA;AACA,gBAAA,MAAA,CAAA,aAAA,GAAA,aAAA,QAAA,CAAA,IAAA,CAAA,MAAA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AAlCA;AAhBA,CAAA","sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <div class=\"card\">\n                    <div class=\"card-header\">New Note</div>\n                    <div class=\"card-body\">\n                        <form action=\"#\" method=\"post\" @submit.prevent=\"update\"> \n                            <div class=\"form-group\">\n                                <label for=\"title\">Title</label>\n                                <input type=\"text\" v-model=\"form.title\" id=\"title\" class=\"form-control\">\n                                <div v-if=\"messageErrors.title\" class=\"mt-2 text-danger\">{{ messageErrors.title[0] }}</div>\n                            </div>\n\n                            <div class=\"form-group\">\n                                <label for=\"subject\">Subject</label>\n                                <select @change=\"selectedSubject\" name=\"subject\" id=\"subject\" class=\"form-control\">\n                                    <option :value=\"form.subject_id\" v-text=\"form.subject\"></option>\n                                    <template v-for=\"subject in subjects\">\n                                        <option v-if=\"form.subject_id !== subject.id\" :key=\"subject.id\" :value=\"subject.id\">\n                                            {{ subject.name }}\n                                        </option>\n                                    </template>    \n                                </select>\n                                <div v-if=\"messageErrors.subject\" class=\"mt-2 text-danger\">{{ messageErrors.subject[0] }}</div>\n                            </div>\n\n                            <div class=\"form-group\">\n                                <label for=\"description\">Description</label>\n                                <textarea v-model=\"form.description\" name=\"description\" id=\"description\" rows=\"5\" class=\"form-control\"></textarea>    \n                                <div v-if=\"messageErrors.description\" class=\"mt-2 text-danger\">{{ messageErrors.description[0] }}</div>\n                            </div> \n\n                            <button class=\"btn btn-primary d-flex align-items-center\" type=\"submit\">\n                                Update\n                                <template v-if=\"loading\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"margin: auto; background: none; display: block; shape-rendering: auto;\" width=\"30px\" height=\"20px\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\"> <rect x=\"17.5\" y=\"30\" width=\"15\" height=\"40\" fill=\"#e3e5ea\"> <animate attributeName=\"y\" repeatCount=\"indefinite\" dur=\"1s\" calcMode=\"spline\" keyTimes=\"0;0.5;1\" values=\"18;30;30\" keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\" begin=\"-0.2s\"></animate> <animate attributeName=\"height\" repeatCount=\"indefinite\" dur=\"1s\" calcMode=\"spline\" keyTimes=\"0;0.5;1\" values=\"64;40;40\" keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\" begin=\"-0.2s\"></animate> </rect> <rect x=\"42.5\" y=\"30\" width=\"15\" height=\"40\" fill=\"#cfdbf2\"> <animate attributeName=\"y\" repeatCount=\"indefinite\" dur=\"1s\" calcMode=\"spline\" keyTimes=\"0;0.5;1\" values=\"20.999999999999996;30;30\" keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\" begin=\"-0.1s\"></animate> <animate attributeName=\"height\" repeatCount=\"indefinite\" dur=\"1s\" calcMode=\"spline\" keyTimes=\"0;0.5;1\" values=\"58.00000000000001;40;40\" keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\" begin=\"-0.1s\"></animate> </rect> <rect x=\"67.5\" y=\"30\" width=\"15\" height=\"40\" fill=\"#cde0ff\"> <animate attributeName=\"y\" repeatCount=\"indefinite\" dur=\"1s\" calcMode=\"spline\" keyTimes=\"0;0.5;1\" values=\"20.999999999999996;30;30\" keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"></animate> <animate attributeName=\"height\" repeatCount=\"indefinite\" dur=\"1s\" calcMode=\"spline\" keyTimes=\"0;0.5;1\" values=\"58.00000000000001;40;40\" keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"></animate> </rect> </svg>\n                                </template>\n                            </button>\n                        </form>  \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data () {\n        return {\n            form: [],\n            subjects: [],\n            messageErrors: [],\n            selected: '',\n            loading: false\n        }\n    },\n\n    mounted () {\n        this.getSubjects()\n        this.getNote()\n    },\n\n    methods: {\n        async getSubjects() {\n            let response = await axios.get('/api/subjects')\n            if (response.status == 200) {\n                this.subjects = response.data\n            }\n        },\n\n        async getNote() {\n            let response = await axios.get(`/api/notes/${this.$route.params.noteSlug}`)\n            this.form = response.data.data\n        },\n\n        selectedSubject(e) {\n            this.selected = e.target.value\n        },\n\n        async update() {\n            this.loading = true\n            this.form['subject'] = this.selected || this.form.subject_id\n            try {\n                let response = await axios.patch(`/api/notes/${this.$route.params.noteSlug}/edit`, this.form)\n                if (response.status == 200) {\n                    this.$toasted.show(response.data.message, {\n                        type: 'success',\n                        duration: 3000\n                    })\n                    this.loading = false\n                this.$router.push('/notes/table')\n                }\n            } catch(e) {\n                this.loading = false\n                this.messageErrors = e.response.data.errors\n            }\n        }\n    }\n}\n</script>"],"sourceRoot":"src/views/notes"}]}